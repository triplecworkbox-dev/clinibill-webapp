<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CliniBill MVP</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- React + ReactDOM -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<style>
.card {
  @apply bg-white shadow-md border rounded-lg p-4;
}
.card-header {
  @apply font-semibold text-lg mb-3;
}
.btn {
  @apply px-4 py-2 rounded-lg cursor-pointer font-semibold transition;
}
.btn-primary {
  @apply bg-blue-600 hover:bg-blue-700 text-white;
}
.btn-outline {
  @apply border border-gray-300 hover:bg-gray-100;
}
</style>
</head>

<body class="bg-gray-50">

<div id="app"></div>

<script>
const { useState } = React;

// Mock Data
const doctors = [
  { id: 1, name: 'Dr. Smith', site: 'Lifestyle', consultations: 25, earnings: 8750 },
  { id: 2, name: 'Dr. Johnson', site: 'Vita', consultations: 18, earnings: 6300 },
  { id: 3, name: 'Dr. Williams', site: 'Lifestyle', consultations: 32, earnings: 11200 }
];

const recentConsultations = [
  { id: 1, doctor: 'Dr. Smith', patient: 'John Doe', type: 'Full Consult', amount: 500, payment: 'Card', time: '10:30 AM' },
  { id: 2, doctor: 'Dr. Johnson', patient: 'Jane Smith', type: 'Script Only', amount: 250, payment: 'Cash', time: '11:15 AM' },
  { id: 3, doctor: 'Dr. Williams', patient: 'Bob Wilson', type: 'Pensioner', amount: 400, payment: 'Medical Aid', time: '12:00 PM' }
];

function CliniBillMVP() {
  const [activeTab, setActiveTab] = useState("dashboard");
  const [selectedDoctor, setSelectedDoctor] = useState("");
  const [consultationType, setConsultationType] = useState("");
  const [paymentMethod, setPaymentMethod] = useState("");

  const Dashboard = () => (
    <div className="space-y-6">
      <!-- Metrics -->
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        ${metricCard("Users","Today's Consultations", 47, "text-blue-600")}
        ${metricCard("DollarSign","Today's Revenue","R23,500","text-green-600")}
        ${metricCard("CreditCard","Pending Settlements","R16,450","text-purple-600")}
        ${metricCard("TrendingUp","Weekly Growth","+12%","text-orange-600")}
      </div>

      <!-- Recent Consultations -->
      <div class="card">
        <div class="card-header">Recent Consultations</div>
        <div class="space-y-4">
        ${recentConsultations
          .map(
            c => `
            <div class="flex justify-between items-center p-4 border rounded-lg">
              <div>
                <p class="font-medium">${c.patient}</p>
                <p class="text-gray-500 text-sm">${c.doctor} • ${c.time}</p>
              </div>
              <div class="text-right">
                <p class="font-bold">R${c.amount}</p>
                <p class="text-sm text-gray-500">${c.type} • ${c.payment}</p>
              </div>
            </div>`
          )
          .join("")}
        </div>
      </div>
    </div>
  );

  function metricCard(icon, label, value, color) {
    return `
      <div class="card p-6 flex items-center">
        <i data-lucide="${icon}" class="w-8 h-8 ${color}"></i>
        <div class="ml-3">
          <p class="text-sm text-gray-500">${label}</p>
          <p class="text-2xl font-bold">${value}</p>
        </div>
      </div>
    `;
  }

  const render = {
    dashboard: <Dashboard />,
    consultation: (
      <div class="card">
        <div class="card-header">Record New Consultation</div>
        <div class="space-y-4">
          <select class="w-full p-3 border rounded" onChange={(e)=>setSelectedDoctor(e.target.value)}>
            <option>Select Doctor</option>
            <option>Dr. Smith</option>
            <option>Dr. Johnson</option>
            <option>Dr. Williams</option>
          </select>

          <button class="btn btn-primary w-full">Record Consultation</button>
        </div>
      </div>
    ),
    reports: (
      <div class="card">
        <div class="card-header">Doctor Performance</div>
        {doctors.map(d => (
          <div class="p-3 border rounded my-2 flex justify-between">
            <span>{d.name}</span>
            <strong>R{d.earnings}</strong>
          </div>
        ))}
      </div>
    ),
    payments: (
      <button class="btn btn-primary">Process Payments</button>
    )
  };

  return (
    <div>
      <header class="bg-white shadow p-4 flex justify-between">
        <h1 class="text-xl font-bold text-blue-600">CliniBill MVP</h1>
      </header>

      <nav class="bg-white shadow-sm flex space-x-6 p-4">
        {["dashboard","consultation","reports","payments"].map(tab => (
          <button 
            className={\`py-2 border-b-2 \${activeTab === tab ? "border-blue-600 text-blue-600 font-bold" : "border-transparent"}\`}
            onClick={() => setActiveTab(tab)}
          >
            {tab.charAt(0).toUpperCase()+tab.slice(1)}
          </button>
        ))}
      </nav>

      <main class="max-w-6xl mx-auto p-6">
        {render[activeTab]}
      </main>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("app")).render(<CliniBillMVP />);

// Load icons after render
setTimeout(() => lucide.createIcons(), 50);
</script>

</body>
</html>
