import React, { useState } from ‘react’;
import { Card, CardContent, CardHeader, CardTitle } from ‘@/components/ui/card’;
import { Button } from ‘@/components/ui/button’;
import {
User,
CreditCard,
FileText,
DollarSign,
Calendar,
Users,
TrendingUp,
Plus,
Search,
Filter
} from ‘lucide-react’;

const CliniBillMVP = () => {
const [activeTab, setActiveTab] = useState(‘dashboard’);
const [selectedDoctor, setSelectedDoctor] = useState(’’);
const [consultationType, setConsultationType] = useState(’’);
const [paymentMethod, setPaymentMethod] = useState(’’);

// Mock data
const doctors = [
{ id: 1, name: ‘Dr. Smith’, site: ‘Lifestyle’, consultations: 25, earnings: 8750 },
{ id: 2, name: ‘Dr. Johnson’, site: ‘Vita’, consultations: 18, earnings: 6300 },
{ id: 3, name: ‘Dr. Williams’, site: ‘Lifestyle’, consultations: 32, earnings: 11200 }
];

const recentConsultations = [
{ id: 1, doctor: ‘Dr. Smith’, patient: ‘John Doe’, type: ‘Full Consult’, amount: 500, payment: ‘Card’, time: ‘10:30 AM’ },
{ id: 2, doctor: ‘Dr. Johnson’, patient: ‘Jane Smith’, type: ‘Script Only’, amount: 250, payment: ‘Cash’, time: ‘11:15 AM’ },
{ id: 3, doctor: ‘Dr. Williams’, patient: ‘Bob Wilson’, type: ‘Pensioner’, amount: 400, payment: ‘Medical Aid’, time: ‘12:00 PM’ }
];

const renderDashboard = () => (
<div className="space-y-6">
{/* Key Metrics */}
<div className="grid grid-cols-1 md:grid-cols-4 gap-4">
<Card>
<CardContent className="p-6">
<div className="flex items-center">
<Users className="h-8 w-8 text-blue-600" />
<div className="ml-4">
<p className="text-sm font-medium text-gray-600">Today’s Consultations</p>
<p className="text-2xl font-bold">47</p>
</div>
</div>
</CardContent>
</Card>

```
<Card>
<CardContent className="p-6">
<div className="flex items-center">
<DollarSign className="h-8 w-8 text-green-600" />
<div className="ml-4">
<p className="text-sm font-medium text-gray-600">Today's Revenue</p>
<p className="text-2xl font-bold">R23,500</p>
</div>
</div>
</CardContent>
</Card>

<Card>
<CardContent className="p-6">
<div className="flex items-center">
<CreditCard className="h-8 w-8 text-purple-600" />
<div className="ml-4">
<p className="text-sm font-medium text-gray-600">Pending Settlements</p>
<p className="text-2xl font-bold">R16,450</p>
</div>
</div>
</CardContent>
</Card>

<Card>
<CardContent className="p-6">
<div className="flex items-center">
<TrendingUp className="h-8 w-8 text-orange-600" />
<div className="ml-4">
<p className="text-sm font-medium text-gray-600">Weekly Growth</p>
<p className="text-2xl font-bold">+12%</p>
</div>
</div>
</CardContent>
</Card>
</div>

{/* Recent Activity */}
<Card>
<CardHeader>
<CardTitle>Recent Consultations</CardTitle>
</CardHeader>
<CardContent>
<div className="space-y-4">
{recentConsultations.map(consultation => (
<div key={consultation.id} className="flex items-center justify-between p-4 border rounded-lg">
<div className="flex items-center space-x-4">
<User className="h-8 w-8 text-gray-400" />
<div>
<p className="font-medium">{consultation.patient}</p>
<p className="text-sm text-gray-600">{consultation.doctor} • {consultation.time}</p>
</div>
</div>
<div className="text-right">
<p className="font-medium">R{consultation.amount}</p>
<p className="text-sm text-gray-600">{consultation.type} • {consultation.payment}</p>
</div>
</div>
))}
</div>
</CardContent>
</Card>
</div>
```

);

const renderNewConsultation = () => (
<Card>
<CardHeader>
<CardTitle>Record New Consultation</CardTitle>
</CardHeader>
<CardContent className="space-y-4">
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">Doctor</label>
<select
className=“w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent”
value={selectedDoctor}
onChange={(e) => setSelectedDoctor(e.target.value)}
>
<option value="">Select Doctor</option>
<option value="dr-smith">Dr. Smith (Lifestyle)</option>
<option value="dr-johnson">Dr. Johnson (Vita)</option>
<option value="dr-williams">Dr. Williams (Lifestyle)</option>
</select>
</div>

```
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">Patient Name</label>
<input
type="text"
className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
placeholder="Enter patient name"
/>
</div>

<div>
<label className="block text-sm font-medium text-gray-700 mb-2">Consultation Type</label>
<select
className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
value={consultationType}
onChange={(e) => setConsultationType(e.target.value)}
>
<option value="">Select Type</option>
<option value="full">Full Consultation (R500)</option>
<option value="pensioner">Pensioner/Student (R400)</option>
<option value="script">Script Only (R250)</option>
</select>
</div>

<div>
<label className="block text-sm font-medium text-gray-700 mb-2">Payment Method</label>
<select
className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
value={paymentMethod}
onChange={(e) => setPaymentMethod(e.target.value)}
>
<option value="">Select Payment Method</option>
<option value="card">Card Payment</option>
<option value="cash">Cash Payment</option>
<option value="medical-aid">Medical Aid</option>
<option value="online">Online Payment</option>
</select>
</div>

<div>
<label className="block text-sm font-medium text-gray-700 mb-2">ICD-10 Code</label>
<input
type="text"
className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
placeholder="e.g., Z00.0"
/>
</div>

<div>
<label className="block text-sm font-medium text-gray-700 mb-2">Amount</label>
<input
type="number"
className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
placeholder="500"
readOnly
/>
</div>
</div>

<div>
<label className="block text-sm font-medium text-gray-700 mb-2">Notes</label>
<textarea
className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
rows="3"
placeholder="Additional notes..."
></textarea>
</div>

<Button className="w-full bg-blue-600 hover:bg-blue-700 text-white">
Record Consultation
</Button>
</CardContent>
</Card>
```

);

const renderReports = () => (
<div className="space-y-6">
{/* Doctor Performance */}
<Card>
<CardHeader>
<CardTitle>Doctor Performance - This Week</CardTitle>
</CardHeader>
<CardContent>
<div className="space-y-4">
{doctors.map(doctor => (
<div key={doctor.id} className="flex items-center justify-between p-4 border rounded-lg">
<div>
<p className="font-medium">{doctor.name}</p>
<p className="text-sm text-gray-600">{doctor.site}</p>
</div>
<div className="text-right">
<p className="font-medium">{doctor.consultations} consultations</p>
<p className="text-sm text-green-600">R{doctor.earnings.toLocaleString()}</p>
</div>
</div>
))}
</div>
</CardContent>
</Card>

```
{/* Weekly Reconciliation */}
<Card>
<CardHeader>
<CardTitle>Weekly Reconciliation Forecast</CardTitle>
</CardHeader>
<CardContent>
<div className="grid grid-cols-1 md:grid-cols-3 gap-4">
<div className="p-4 bg-blue-50 rounded-lg">
<p className="text-sm text-gray-600">Total Consultations</p>
<p className="text-2xl font-bold text-blue-600">75</p>
</div>
<div className="p-4 bg-green-50 rounded-lg">
<p className="text-sm text-gray-600">Expected Doctor Payments</p>
<p className="text-2xl font-bold text-green-600">R26,250</p>
</div>
<div className="p-4 bg-purple-50 rounded-lg">
<p className="text-sm text-gray-600">Bank Balance Required</p>
<p className="text-2xl font-bold text-purple-600">R30,000</p>
</div>
</div>

<div className="mt-6">
<Button className="bg-green-600 hover:bg-green-700 text-white mr-3">
Generate Weekly Report
</Button>
<Button variant="outline">
Export to Excel
</Button>
</div>
</CardContent>
</Card>
</div>
```

);

const renderPayments = () => (
<div className="space-y-6">
{/* Payment Status */}
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
<Card>
<CardHeader>
<CardTitle>Pending Payments</CardTitle>
</CardHeader>
<CardContent>
<div className="space-y-3">
<div className="flex justify-between items-center p-3 border rounded-lg">
<div>
<p className="font-medium">Dr. Smith</p>
<p className="text-sm text-gray-600">25 consultations</p>
</div>
<p className="font-bold text-green-600">R8,750</p>
</div>
<div className="flex justify-between items-center p-3 border rounded-lg">
<div>
<p className="font-medium">Lifestyle Pharmacy</p>
<p className="text-sm text-gray-600">40 consultations</p>
</div>
<p className="font-bold text-green-600">R1,700</p>
</div>
</div>
</CardContent>
</Card>

```
<Card>
<CardHeader>
<CardTitle>Payment Methods Summary</CardTitle>
</CardHeader>
<CardContent>
<div className="space-y-3">
<div className="flex justify-between">
<span>Card Payments</span>
<span className="font-medium">R18,500 (65%)</span>
</div>
<div className="flex justify-between">
<span>Cash Payments</span>
<span className="font-medium">R7,200 (25%)</span>
</div>
<div className="flex justify-between">
<span>Medical Aid</span>
<span className="font-medium">R2,800 (10%)</span>
</div>
</div>
</CardContent>
</Card>
</div>

<Card>
<CardHeader>
<CardTitle>Process Payments</CardTitle>
</CardHeader>
<CardContent>
<Button className="bg-blue-600 hover:bg-blue-700 text-white mr-3">
Process Weekly Settlements
</Button>
<Button variant="outline" className="mr-3">
Generate Payment Reports
</Button>
<Button variant="outline">
Export Banking Details
</Button>
</CardContent>
</Card>
</div>
```

);

return (
<div className="min-h-screen bg-gray-50">
{/* Header */}
<header className="bg-white shadow-sm border-b">
<div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div className="flex justify-between items-center h-16">
<div className="flex items-center">
<h1 className="text-2xl font-bold text-blue-600">CliniBill</h1>
<span className="ml-2 text-sm text-gray-500">MVP Dashboard</span>
</div>
<div className="flex items-center space-x-4">
<Button variant="outline" size="sm">
<Search className="h-4 w-4 mr-2" />
Search
</Button>
<div className="h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center">
<User className="h-4 w-4 text-white" />
</div>
</div>
</div>
</div>
</header>

```
{/* Navigation */}
<nav className="bg-white shadow-sm">
<div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div className="flex space-x-8">
<button
onClick={() => setActiveTab('dashboard')}
className={`py-4 px-2 border-b-2 font-medium text-sm ${
activeTab === 'dashboard'
? 'border-blue-500 text-blue-600'
: 'border-transparent text-gray-500 hover:text-gray-700'
}`}
>
Dashboard
</button>
<button
onClick={() => setActiveTab('consultation')}
className={`py-4 px-2 border-b-2 font-medium text-sm ${
activeTab === 'consultation'
? 'border-blue-500 text-blue-600'
: 'border-transparent text-gray-500 hover:text-gray-700'
}`}
>
New Consultation
</button>
<button
onClick={() => setActiveTab('reports')}
className={`py-4 px-2 border-b-2 font-medium text-sm ${
activeTab === 'reports'
? 'border-blue-500 text-blue-600'
: 'border-transparent text-gray-500 hover:text-gray-700'
}`}
>
Reports
</button>
<button
onClick={() => setActiveTab('payments')}
className={`py-4 px-2 border-b-2 font-medium text-sm ${
activeTab === 'payments'
? 'border-blue-500 text-blue-600'
: 'border-transparent text-gray-500 hover:text-gray-700'
}`}
>
Payments
</button>
</div>
</div>
</nav>

{/* Main Content */}
<main className="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
{activeTab === 'dashboard' && renderDashboard()}
{activeTab === 'consultation' && renderNewConsultation()}
{activeTab === 'reports' && renderReports()}
{activeTab === 'payments' && renderPayments()}
</main>
</div>
```

);
};

export default CliniBillMVP;
